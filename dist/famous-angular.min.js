/**
 * famous-angular - Bring structure to your Famo.us apps with the power of AngularJS. Famo.us/Angular integrates seamlessly with existing Angular and Famo.us apps.
 * @version v0.0.17
 * @link https://github.com/Famous/famous-angular
 * @license MPL v2.0
 */
"use strict";window.name="NG_DEFER_BOOTSTRAP!"+window.name;var requirements=["famous/core/Context","famous/core/ElementAllocator","famous/core/Engine","famous/core/Entity","famous/core/EventEmitter","famous/core/EventHandler","famous/core/Group","famous/core/Modifier","famous/core/OptionsManager","famous/core/RenderNode","famous/core/Scene","famous/core/SpecParser","famous/core/Surface","famous/core/Transform","famous/core/View","famous/core/ViewSequence","famous/events/EventArbiter","famous/events/EventFilter","famous/events/EventMapper","famous/inputs/FastClick","famous/inputs/GenericSync","famous/inputs/MouseSync","famous/inputs/PinchSync","famous/inputs/RotateSync","famous/inputs/ScaleSync","famous/inputs/ScrollSync","famous/inputs/TouchSync","famous/inputs/TouchTracker","famous/inputs/TwoFingerSync","famous/math/Matrix","famous/math/Quaternion","famous/math/Random","famous/math/Utilities","famous/math/Vector","famous/modifiers/Draggable","famous/modifiers/Fader","famous/modifiers/ModifierChain","famous/modifiers/StateModifier","famous/physics/PhysicsEngine","famous/surfaces/CanvasSurface","famous/surfaces/ContainerSurface","famous/surfaces/FormContainerSurface","famous/surfaces/ImageSurface","famous/surfaces/InputSurface","famous/surfaces/SubmitInputSurface","famous/surfaces/TextareaSurface","famous/surfaces/VideoSurface","famous/transitions/CachedMap","famous/transitions/Easing","famous/transitions/MultipleTransition","famous/transitions/SnapTransition","famous/transitions/SpringTransition","famous/transitions/Transitionable","famous/transitions/TransitionableTransform","famous/transitions/TweenTransition","famous/transitions/WallTransition","famous/utilities/KeyCodes","famous/utilities/Timer","famous/utilities/Utility","famous/views/Deck","famous/views/EdgeSwapper","famous/views/FlexibleLayout","famous/views/Flipper","famous/views/GridLayout","famous/views/HeaderFooterLayout","famous/views/Lightbox","famous/views/RenderController","famous/views/ScrollContainer","famous/views/Scroller","famous/views/Scrollview","famous/views/SequentialLayout","famous/widgets/NavigationBar","famous/widgets/Slider","famous/widgets/TabBar","famous/widgets/ToggleButton","famous/physics/bodies/Body","famous/physics/bodies/Circle","famous/physics/bodies/Particle","famous/physics/bodies/Rectangle","famous/physics/constraints/Collision","famous/physics/constraints/Constraint","famous/physics/constraints/Curve","famous/physics/constraints/Distance","famous/physics/constraints/Snap","famous/physics/constraints/Surface","famous/physics/constraints/Wall","famous/physics/constraints/Walls","famous/physics/forces/Drag","famous/physics/forces/Force","famous/physics/forces/Repulsion","famous/physics/forces/RotationalDrag","famous/physics/forces/RotationalSpring","famous/physics/forces/Spring","famous/physics/forces/VectorField","famous/physics/integrators/SymplecticEuler"],ngFameApp=angular.module("famous.angular",[]);require(requirements,function(){var e=arguments;ngFameApp.provider("$famous",function(){var e={};this.registerModule=function(n,r){e[n]=r},e.getIsolate=function(e){return"isolate"in e?e.isolate[e.$id]:{}},e.find=function(n){var r=angular.element(window.document.querySelectorAll(n)),t=function(e){var n=[];return angular.forEach(e,function(e,r){n[r]=angular.element(e).scope()}),n}(r),a=function(n){var r=[];return angular.forEach(n,function(n,t){r[t]=e.getIsolate(n)}),r}(t);return a},this.$get=function(){return e}}),ngFameApp.config(["$famousProvider",function(n){for(var r=0;r<requirements.length;r++)n.registerModule(requirements[r],e[r])}]),angular.element(document).ready(function(){angular.resumeBootstrap&&angular.resumeBootstrap()}),window.dispatchEvent(new Event("$famousModulesLoaded"))}),angular.module("famous.angular").config(["$provide",function(e){e.decorator("$animate",["$delegate","$rootScope","$famous","$parse",function(e,n,r,t){function a(e){var n=r.getIsolate(e.scope());return n&&n.renderNode instanceof o}var o=r["famous/core/Surface"],i=r["famous/utilities/Timer"],u="$$faAnimationActive",s={enabled:e.enabled};return angular.forEach(["addClass","removeClass"],function(n){var t=angular.element.prototype[n];angular.element.prototype[n]=function(e){t.apply(this,arguments),a(this)&&r.getIsolate(this.scope()).renderNode[n](e)},s[n]=function(t,o,i){if(e[n](t,o,i),a(t)){var u=r.getIsolate(t.scope()).renderNode;angular.forEach(o.split(" "),function(e){u[n](e)})}}}),s.setClass=function(n,t,o,i){if(e.setClass(n,t,o,i),a(n)){var u=r.getIsolate(n.scope()).renderNode;angular.forEach(t.split(" "),function(e){u.addClass(e)}),angular.forEach(o.split(" "),function(e){u.removeClass(e)})}},angular.forEach(["enter","leave","move"],function(r){s[r]=function(a){var o=this,s=arguments,c="enter"===r;c===!0&&e[r].apply(this,arguments),a.data(u)===!0&&t(a.attr("fa-animate-halt"))(a.scope()),a.data(u,!0);var f=function(){a.data(u)!==!1&&(a.data(u,!1),c===!1&&e[r].apply(o,s))};n.$$postDigest(function(){var e=a.attr("fa-animate-"+r);if(void 0===e)return void f();var n=t(e)(a.scope(),{$done:f});"number"==typeof n&&i.setTimeout(f,n)})}}),s}])}]),angular.module("famous.angular").factory("$famousDecorator",function(){return{addRole:function(){},ensureIsolate:function(e){e.isolate=e.isolate||{},e.isolate[e.$id]=e.isolate[e.$id]||{};var n=e.isolate[e.$id];n.id=e.$id;var r=e.$eval("$index");return r&&"$index"!==r&&!n.index&&(n.index=r),n},registerChild:function(e,n,r,t){e.$emit("registerChild",r),n.one("$destroy",function(){"removeMethod"in r&&r.removeMethod(r.id),t&&t()})},sequenceWith:function(e,n,r){e.$on("registerChild",function(t,a){t.targetScope.$id!==e.$id&&(n(a),t.stopPropagation(),r&&(a.removeMethod=r))})}}}),angular.module("famous.angular").service("$famousPipe",function(){function e(e,n,r){e instanceof Array||(e=[e]),n instanceof Array||(n=[n]);for(var t=0;t<e.length;t++)for(var a=0;a<n.length;a++)void 0!==n[a]&&void 0!==e[t]&&n[a][r](e[t])}this.unpipesFromTargets=function(n,r){e(n,r,"unpipe")},this.pipesToTargets=function(n,r){e(n,r,"pipe")}}),angular.module("famous.angular").provider("$famousState",function(){function e(e,r){return angular.isObject(e)?r=e:r.name=e,n(r),this}function n(e){var n=e.name;if(!angular.isDefined(n)||!angular.isString(n)||n.indexOf("@")>=0||-1!==n.indexOf("."))throw new Error("State must have a valid name");if(f.hasOwnProperty(n))throw new Error("State "+n+" is already defined");var t=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):angular.isString(e.parent)?e.parent:"";return t&&!f[t]?o(e):void r(e)}function r(e){angular.forEach(d,function(n){n(e)}),a(e),i(e)}function t(e){d.template(e),d.controller(e),d.transitions(e)}function a(e){var n=e.name;f[n]=e}function o(e){l[e.name]||(l[e.name]=e)}function i(e){l[e.name]&&delete l[e.name];for(var r in l)n(l[r])}function u(e,n,r,t,a){function o(n){return(n=i(n))?(s.$prior=s.$current,s.current=n,s.$current=f[n],void a.resolve(s.$current).then(function(n){s.$current.$template=n,e.$broadcast("$stateChangeSuccess"),s.$current.url&&r.path(s.$current.url)})):e.$broadcast("$stateNotFound")}function i(e){if("^"===e){var n=/^(.+)\.[^.]+$/.exec(s.current)[1];return l(n)?n:!1}if(0===e.indexOf("^")&&e.length>1)return e=s.$current.parent+e.slice(1),l(e)?e:!1;if(0===e.indexOf("."))return e=s.current+e,l(e)?e:!1;if(e.indexOf(".")>0){""===s.current&&r.path("^");var t=/^(.+)\.[^.]+$/.exec(e)[1];if(s.current===t)return l(e)?e:!1;var a=u(t);return l(a)?a:!1}return l(e)?e:!1}function u(e){for(var n,r=s.$current.parent,t=e;r&&t&&(-1!==r.indexOf(".")&&r.length>=t.length&&(r=/^(.+)\.[^.]+$/.exec(r)[1]),-1!==t.indexOf(".")&&t.length>r.length&&(n=t.slice(t.lastIndexOf(".")),t=/^(.+)\.[^.]+$/.exec(t)[1]),r!==t&&(-1!==r.indexOf(".")||-1!==t.indexOf("."))););return t+n}function l(e){return!!f[e]}return s={current:c.name,$current:c,parent:c.parent,locals:{},$prior:{},inTransitionTo:"",outTransitionFrom:""},s.includes=function(e){return l(e)},s.go=function(e,n){(e!==s.current||n)&&o(e)},s.getStates=function(){return f},s}var s,c,f={},l={};this.state=e;var d={parent:function(e){if(!angular.isDefined(e.parent)||!e.parent){var n=/^(.+)\.[^.]+$/.exec(e.name);e.parent=n?n[1]:c}},url:function(e){var n=e.url;if(angular.isDefined(n)&&!angular.isString(n))throw new Error("url for state "+e.name+" must be a string")},template:function(e){var n;if(e.templateUrl){if(n=e.templateUrl,!angular.isString(n)||".html"!==n.substr(-5))throw new Error("templateUrl must be a string pointing to an HTML document (e.g. templates/myTemp.html)");e.template={link:n}}else if(e.template){if(n=e.template,"string"!=typeof n)throw new Error("template must be a string containing valid HTML");e.template={html:n}}},controller:function(e){var n=e.controller;if(!e.template&&!angular.isDefined(e.views)&&n)throw new Error("A template must defined in order to create a controller");if(n&&!angular.isString(n)&&!angular.isFunction(n))throw new Error("Controller must be a function or reference an existing controller")},transitions:function(e){if(angular.isDefined(e.inTransitionFrom)||angular.isDefined(e.outTransitionTo)){var n={};n.inTransitionFrom=e.inTransitionFrom,n.outTransitionTo=e.outTransitionTo;for(var r in n)if(angular.isString(n[r]))e[r]=n[r]+"($callback)";else if(angular.isObject(n))angular.forEach(n[r],function(e,t){n[r][t]=e+"($callback)"}),angular.extend(e[r],n[r]);else if(angular.isDefined(e[r]))throw new Error("Transitions must be strings which reference function names")}},views:function(e){if(!angular.isDefined(e.views))return void(e.views={"@":e});var n={};angular.forEach(angular.isDefined(e.views)?e.views:{"":e},function(r,a){a||(a="@"),-1===a.indexOf("@")&&(a+="@"+e.parent.name),t(r,a),n[a]=r}),e.views=n},locals:function(e){e.locals={},angular.forEach(e.views,function(n,r){"@"!==r&&(e.locals[r]=n)})}};c={name:"",url:"^",parent:null,views:null,template:null,contoller:null,locals:null},this.$get=u,u.$inject=["$rootScope","$http","$location","$q","$famousTemplate"]}),angular.module("famous.angular").factory("$famousTemplate",["$http","$templateCache","$q",function(e,n,r){function t(e,n){var t=r.defer(),o=[],i={};return angular.forEach(n,function(n){var r=n.name.split("@")[0],t='<div fa-router-view="'+r+'"></div>';-1!==e.indexOf(t)&&(i[r]=t,o.push(a(n,r)))}),r.all(o).then(function(n){angular.forEach(n,function(n){e=e.replace(i[n.name],n.data)}),t.resolve(e)}),t.promise}function a(t,a){var o=r.defer(),i={};return t.template.html?(i.name=a,i.data=t.template.html,o.resolve(i)):t.template.link&&e.get(t.template.link,{cache:n}).success(function(e){i.name=a,i.data=e,o.resolve(i)}).error(function(e){i.name=a,i.data=e,o.reject(i)}),o.promise}return{resolve:function(e){var n=r.defer(),o=e.views["@"];o.name=e.name;var i=[];return angular.forEach(e.views,function(e,n){"@"!==n&&1!==n.indexOf("@")&&i.push({name:n,template:e.template})}),a(o,o.name).then(function(e){i.length>0?t(e.data,i).then(function(e){n.resolve(e)}):n.resolve(e.data)}),n.promise}}}]),angular.module("famous.angular").provider("$famousUrlRouter",function(){function e(e,n){if(!angular.isDefined(e)||!angular.isDefined(n))throw new Error("URL and state name required to define URL route");if(!r(e))throw new Error("When defining routes, must specify a valid url");i[e]=n}function n(e){if(!angular.isString(e)||e.indexOf("@")>=0)throw new Error("Default state must have a valid name");a=e}function r(e){var n=/^\/(?!\/)[a-zA-Z\d_\-\/(?!\/)]*$/;return angular.isString(e)&&!!n.exec(e)}function t(n,r,t){function u(){var n=t.getStates();angular.forEach(n,function(n,r){n.url&&!i[n.url]&&e(n.url,r)})}function s(){c=r.path()}var c="";return o.listen=function(){var e=n.$on("$locationChangeSuccess",o.update);return e},o.update=function(){var e=r.path(),n=c===e?!0:!1;i[e]?(t.go(i[e],n),c=e):(r.path(a),t.go(a),c=r.path())},u(),s(),o.listen(),o.update(),o}var a,o={},i={};this.when=e,this.otherwise=n,this.$get=t,t.$inject=["$rootScope","$location","$famousState"]}).run(function(){}),angular.module("famous.angular").directive("faAnimation",["$famous","$famousDecorator",function(e,n){return{restrict:"EA",scope:!0,compile:function(){var r=e["famous/core/Transform"],t=e["famous/transitions/Transitionable"],a=e["famous/transitions/Easing"];return{pre:function(e){n.ensureIsolate(e)},post:function(e,o,i){var u=n.ensureIsolate(e);setTimeout(function(){u.timeline=e.$eval(i.timeline),u._trans=new t(0),u.play=function(n){var r={duration:e.$eval(i.duration),curve:e.$eval(i.curve)||"linear"};u._trans.set(1,r,function(){n&&n(),i.loop&&setTimeout(function(){u.replay(n)},0)})},u.reset=function(){u._trans.set(0)},u.replay=function(e){u.reset(),u.play(e)};var n=void 0;i.event&&(n&&n(),n=e.$on(i.event,function(e,n){var r=n&&n.callback?n.callback:void 0;u.replay(r)}));i.id;if(void 0===u.timeline&&(u.timeline=u._trans.get.bind(u._trans),i.autoplay&&u.play()),!u.timeline instanceof Function)throw"timeline must be a reference to a function or duration must be provided";for(var s=o[0].querySelectorAll("animate"),c={},f=0;f<s.length;f++)!function(){var n=s[f];if(n.attributes.targetmodselector){var t=angular.element(o[0].parentNode)[0].querySelectorAll(n.attributes.targetmodselector.value);angular.forEach(t,function(t){var o=angular.element(t).scope(),i=o.isolate[o.$id].modifier,s=o.isolate[o.$id].getTransform,f=n.attributes.curve&&"linear"!==n.attributes.curve.value?a[n.attributes.curve.value]:function(e){return e};if(n.attributes.field){var l=n.attributes.field.value,d=n.attributes.timelinelowerbound?parseFloat(n.attributes.timelinelowerbound.value):0,m=n.attributes.timelineupperbound?parseFloat(n.attributes.timelineupperbound.value):1;if(!n.attributes.startvalue)throw"you must provide a start value for the animation";var p=e.$eval(n.attributes.startvalue.value);if(!n.attributes.endvalue)throw"you must provide an end value for the animation";var v=e.$eval(n.attributes.endValue.value),g=c[o.$id]=c[o.$id]||{},h=g[l]=g[l]||[];h.push({field:l,lowerBound:d,upperBound:m,startValue:p,endValue:v,curve:f}),h.sort(function(e,n){return e.lowerBound-n.lowerBound});for(var $=1;$<h.length;$++)for(var w=h[$].lowerBound,y=0;$>y;y++)if(w<h[y].upperBound)throw"Animate segments have overlapping                                 domains for the same field ("+l+").                                 At any point in the timeline, only one <animate>                                 can affect a given field on the same modifier.";var S=function(){for(var e=u.timeline()||0,n=0,r=h[n],t=0;t<h.length;t++){if(e>=h[t].lowerBound&&e<=h[t].upperBound){r=h[t];break}if(t===h.length-1){r=h[t];break}if(e>=h[t].upperBound&&e<h[t+1].lowerBound){r=h[t];break}}if(e<=r.lowerBound)return r.startValue;if(e>=r.upperBound)return r.endValue;var a=r.upperBound-r.lowerBound,o=(e-r.lowerBound)/a;if(Array.isArray(r.startValue)){for(var i=[],t=0;t<r.startValue.length;t++)i.push(r.startValue[t]+r.curve(o)*(r.endValue[t]-r.startValue[t]));return i}return r.startValue+r.curve(o)*(r.endValue-r.startValue)},T=g.transformComponents=g.transformComponents||[];"opacity"===l?i.opacityFrom(function(){return S()}):"origin"===l?i.originFrom(function(){return S()}):"size"===l?i.sizeFrom(function(){return S()}):(T.push({field:l,fn:S}),i.transformFrom(function(){for(var e={},n=s&&s()?[s()]:[],t=0;t<T.length;t++)!function(){var a=T[t].field;if(!e[a]){var o=T[t].fn();n.push(Array.isArray(o)?r[a].apply(this,o):r[a](o)),e[a]=!0}}();return 1===n.length?n[0]:r.multiply.apply(this,n)}))}})}}()},1)}}}}}]),angular.module("famous.angular").directive("faApp",["$famous","$famousDecorator",function(e,n){return{template:'<div style="display: none;"><div></div></div>',transclude:!0,scope:!0,restrict:"EA",compile:function(r,t,a){return{pre:function(r,t){function a(){i.apply(this,arguments)}{var o=n.ensureIsolate(r),i=e["famous/core/View"],u=e["famous/core/Engine"];e["famous/core/Transform"]}t.append('<div class="famous-angular-container"></div>'),o.context=u.createContext(t[0].querySelector(".famous-angular-container")),a.prototype=Object.create(i.prototype),a.prototype.constructor=a;o.view=new a,o.context.add(o.view),r.$on("$destroy",function(){o.context.update=angular.noop}),r.$on("registerChild",function(e,n){o.view.add(n.renderNode),e.stopPropagation()})},post:function(e,r){var t=n.ensureIsolate(e);a(e,function(e){angular.element(r[0].querySelectorAll("div div")[0]).append(e)}),t.readyToRender=!0}}}}}]),angular.module("famous.angular").directive("faClick",["$parse","$famousDecorator",function(e,n){return{restrict:"A",compile:function(){return{post:function(r,t,a){var o=n.ensureIsolate(r);if(a.faClick){var i=o.renderNode._eventInput||o.renderNode;i.on("click",function(n){var t=e(a.faClick);t(r,{$event:n}),r.$$phase||r.$apply()})}}}}}}]),angular.module("famous.angular").directive("faContainerSurface",["$famous","$famousDecorator",function(e,n){return{template:"<div></div>",restrict:"E",transclude:!0,scope:!0,compile:function(r,t,a){return{pre:function(r,t,a){var o=n.ensureIsolate(r),i=e["famous/surfaces/ContainerSurface"],u=r.$eval(a.faOptions)||{};o.renderNode=new i(u),n.sequenceWith(r,function(e){o.renderNode.add(e.renderNode)},function(){throw"unimplemented: fa-container-surface does not support removing children"})},post:function(e,r){var t=n.ensureIsolate(e);a(e,function(e){r.find("div").append(e)}),n.registerChild(e,r,t)}}}}}]),angular.module("famous.angular").directive("faFlexibleLayout",["$famous","$famousDecorator",function(e,n){return{template:"<div></div>",restrict:"E",transclude:!0,scope:!0,compile:function(r,t,a){return{pre:function(r,t,a){var o=n.ensureIsolate(r),i=e["famous/views/FlexibleLayout"],u=(e["famous/core/ViewSequence"],[]),s=r.$eval(a.faOptions)||{};o.renderNode=new i(s);var c=function(){u.sort(function(e,n){return e.index-n.index}),o.renderNode.sequenceFrom(function(e){var n=[];return angular.forEach(e,function(e,r){n[r]=e.renderNode}),n}(u))};n.sequenceWith(r,function(e){u.push(e),c()},function(e){u=function(n){var r=[];return angular.forEach(n,function(n){n.id!==e&&r.push(n)}),r}(u),c()})},post:function(e,r){var t=n.ensureIsolate(e);a(e,function(e){r.find("div").append(e)}),e.$emit("registerChild",t)}}}}}]),angular.module("famous.angular").directive("faFlipper",["$famous","$famousDecorator",function(e,n){return{template:"<div></div>",restrict:"E",transclude:!0,scope:!0,compile:function(r,t,a){return{pre:function(r,t,a){var o=n.ensureIsolate(r),i=e["famous/views/Flipper"],u=r.$eval(a.faOptions)||{};o.renderNode=new i(u),o.children=[],o.flip=function(e){o.renderNode.flip(e||r.$eval(a.faOptions))},n.sequenceWith(r,function(e){var n=o.children.length;if(0==n)o.renderNode.setFront(e.renderNode);else{if(1!=n)throw"fa-flipper accepts only two child elements; more than two have been provided";o.renderNode.setBack(e.renderNode)}o.children.push(e.renderNode)},function(){throw"unimplemented: fa-flipper does not support removing children"})},post:function(e,r){var t=n.ensureIsolate(e);a(e,function(e){r.find("div").append(e)}),n.registerChild(e,r,t)}}}}}]),angular.module("famous.angular").directive("faGridLayout",["$famous","$famousDecorator",function(e,n){return{template:"<div></div>",restrict:"E",transclude:!0,scope:!0,compile:function(r,t,a){return{pre:function(r,t,a){var o=n.ensureIsolate(r),i=e["famous/views/GridLayout"],u=(e["famous/core/ViewSequence"],[]),s=r.$eval(a.faOptions)||{};o.renderNode=new i(s);var c=function(){u.sort(function(e,n){return e.index-n.index}),o.renderNode.sequenceFrom(function(e){var n=[];return angular.forEach(e,function(e,r){n[r]=e.renderNode}),n}(u))};n.sequenceWith(r,function(e){u.push(e),c()},function(e){u=function(n){var r=[];return angular.forEach(n,function(n){n.id!==e&&r.push(n)}),r}(u),c()})},post:function(e,r){var t=n.ensureIsolate(e);a(e,function(e){r.find("div").append(e)}),n.registerChild(e,r,t)}}}}}]),angular.module("famous.angular").directive("faHeaderFooterLayout",["$famous","$famousDecorator",function(e,n){return{template:"<div></div>",restrict:"E",transclude:!0,scope:!0,compile:function(r,t,a){var o=e["famous/views/HeaderFooterLayout"],i=e["famous/core/RenderNode"];return{pre:function(e,r,t){var a=n.ensureIsolate(e),u=(new i,new i,new i,e.$eval(t.faOptions)||{});a.renderNode=new o(u);var s=0;n.sequenceWith(e,function(e){if(s++,1===s)a.renderNode.header.add(e.renderNode);else if(2===s)a.renderNode.content.add(e.renderNode);else{if(3!==s)throw"fa-header-footer-layout can accept no more than 3 children";a.renderNode.footer.add(e.renderNode)}},function(){throw"unimplemented: fa-header-footer-layout does not support removing children"})},post:function(e,r){var t=n.ensureIsolate(e);a(e,function(e){r.find("div").append(e)}),n.registerChild(e,r,t)}}}}}]),angular.module("famous.angular").directive("faImageSurface",["$famous","$famousDecorator",function(e,n){return{scope:!0,template:'<div class="fa-image-surface"></div>',restrict:"EA",compile:function(){return{pre:function(r,t,a){{var o=n.ensureIsolate(r),i=e["famous/surfaces/ImageSurface"];e["famous/core/Transform"],e["famous/core/EventHandler"]}r.$watch(function(){return o.getProperties()},function(){o.renderNode&&o.renderNode.setProperties(o.getProperties())},!0);var u=function(e){return"fa"+e.charAt(0).toUpperCase()+e.slice(1)};o.getProperties=function(){for(var e=r.$eval(a.faProperties)||{},n=["backgroundColor","color"],t=0;t<n.length;t++){var o=n[t],i=u(o);a[i]&&(e[o]=r.$eval(a[i]))}return e};o.renderNode=new i({size:r.$eval(a.faSize),"class":r.$eval(a.class),properties:o.getProperties()}),a.class&&o.renderNode.setClasses(a["class"].split(" "))},post:function(e,r,t){var a=n.ensureIsolate(e),o=function(){a.renderNode.setContent(t.faImageUrl)};o(),t.$observe("faImageUrl",o),n.registerChild(e,r,a)}}}}}]),angular.module("famous.angular").directive("faIndex",["$parse","$famousDecorator",function(e,n){return{restrict:"A",scope:!1,priority:16,compile:function(){return{post:function(e,r,t){var a=n.ensureIsolate(e);a.index=e.$eval(t.faIndex),e.$watch(function(){return e.$eval(t.faIndex)},function(){a.index=e.$eval(t.faIndex)})}}}}}]),angular.module("famous.angular").directive("faModifier",["$famous","$famousDecorator","$parse","$rootScope",function(e,n,r,t){return{template:"<div></div>",transclude:!0,restrict:"EA",priority:2,scope:!0,compile:function(a,o,i){return{post:function(a,o,u){function s(e){return e.replace(p,function(e,n,r,t){return t?r.toUpperCase():r}).replace(v,"Moz$1")}function c(e){return s(e.replace(g,""))}var f=n.ensureIsolate(a),l=e["famous/core/RenderNode"],d=e["famous/core/Modifier"],m=e["famous/core/Transform"],p=/([\:\-\_]+(.))/g,v=/^moz([A-Z])/,g=/^(x[\:\-_]|data[\:\-_])/i,h=["aboutOrigin","perspective","rotate","rotateAxis","rotateX","rotateY","rotateZ","scale","skew","translate"];u.$observe("faTransformOrder",function(){var e=a.$eval(u.faTransformOrder);void 0!==e&&(h=e)});var $={};angular.forEach(h,function(e){var n=c("fa-"+e);u.$observe(n,function(){$[e]=r(u[n])})});var w=angular.noop;u.$observe("faTransform",function(){w=r(u.faTransform)}),f.getTransform=function(){var e=w(a);if(void 0!==e)return e instanceof Function?e():e instanceof Object&&void 0!==e.get?e.get():e;var n=[];return angular.forEach(h,function(e){var r=$[e]?$[e](a):void 0;void 0!==r&&(r instanceof Function&&(r=r()),n.push(r instanceof Array?m[e].apply(this,r):m[e].call(this,r)))}),n.length?1===n.length?n[0]:m.multiply.apply(this,n):void 0};var y=angular.noop;u.$observe("faAlign",function(){y=r(u.faAlign)}),f.getAlign=function(){var e=y(a);return e instanceof Function?e():e instanceof Object&&void 0!==e.get?e.get():e};var S=angular.noop;u.$observe("faOpacity",function(){S=r(u.faOpacity)}),f.getOpacity=function(){var e=S(a);return void 0===e?1:e instanceof Function?e():e instanceof Object&&void 0!==e.get?e.get():e};var T=angular.noop;u.$observe("faSize",function(){T=r(u.faSize)}),f.getSize=function(){var e=T(a);return e instanceof Function?e():e instanceof Object&&void 0!==e.get?e.get():e};var N=angular.noop;u.$observe("faOrigin",function(){N=r(u.faOrigin)}),f.getOrigin=function(){var e=N(a);return e instanceof Function?e():e instanceof Object&&void 0!==e.get?e.get():e},f.modifier=new d({transform:f.getTransform,size:f.getSize,opacity:f.getOpacity,origin:f.getOrigin,align:f.getAlign}),f.renderNode=(new l).add(f.modifier),n.sequenceWith(a,function(e){f.renderNode.add(e.renderNode)}),i(a,function(e){o.find("div").append(e)}),n.registerChild(a,o,f,function(){f.modifier.setOpacity(0)}),a.$$phase||t.$$phase||a.$apply()}}}}}]),angular.module("famous.angular").directive("faPipeFrom",["$famous","$famousDecorator","$famousPipe",function(e,n,r){return{restrict:"A",scope:!1,priority:16,compile:function(){var t=e["famous/core/Engine"];return{post:function(e,a,o){var i=n.ensureIsolate(e);e.$watch(function(){return e.$eval(o.faPipeFrom)},function(e,n){var a=i.renderNode||t;r.unpipesFromTargets(a,n),r.pipesToTargets(a,e)}),e.$on("$destroy",function(){r.unpipesFromTargets(i.renderNode||t,e.$eval(o.faPipeFrom))})}}}}}]),angular.module("famous.angular").directive("faPipeTo",["$famous","$famousDecorator","$famousPipe",function(e,n,r){return{restrict:"A",scope:!1,priority:16,compile:function(){var t=e["famous/core/Engine"];return{post:function(e,a,o){var i=n.ensureIsolate(e);e.$watch(function(){return e.$eval(o.faPipeTo)},function(e,n){var a=i.renderNode||t;r.unpipesFromTargets(n,a),r.pipesToTargets(e,a)}),e.$on("$destroy",function(){r.unpipesFromTargets(e.$eval(o.faPipeTo),i.renderNode||t)})}}}}}]),angular.module("famous.angular").directive("faRenderNode",["$famous","$famousDecorator",function(e,n){return{template:"<div></div>",transclude:!0,scope:!0,restrict:"EA",compile:function(r,t,a){return{pre:function(r,t,a){var o=n.ensureIsolate(r),i=e["famous/core/Engine"];o.children=[],a.$observe("faPipeTo",function(e){var n=r.$eval(e);n&&i.pipe(n)}),o.renderNode=r.$eval(a.faNode),n.sequenceWith(r,function(e){o.renderNode.add(e.renderNode),o.children.push(e)})},post:function(e,r){var t=n.ensureIsolate(e);a(e,function(e){r.find("div").append(e)}),n.registerChild(e,r,t)}}}}}]),angular.module("famous.angular").directive("faRouter",["$famous","$famousDecorator","$famousState","$compile","$controller","$parse",function(e,n,r,t,a,o){return{scope:!0,transclude:"true",restrict:"ECA",compile:function(i){i.html();return function(i,u){function s(e,n){if(e.targetScope.$id!==i.$id){var r,t,a,u,s=f.states[f.fromState],c=f.states[f.currentState];c.isolate=n,v.set(c.isolate.renderNode),c.inTransitionFrom&&(angular.isString(c.inTransitionFrom)?a=c.inTransitionFrom:angular.isObject(c.inTransitionFrom)&&(a=c.inTransitionFrom[f.fromState]?c.inTransitionFrom[f.fromState]:c.inTransitionFrom["default"]?c.inTransitionFrom["default"]:""),a&&(r=o(a))(c.$scope,{$callback:function(){console.log("show completed")}})),s&&s.isolate.renderNode&&s.outTransitionTo&&(p.set(s.isolate.renderNode),angular.isString(s.outTransitionTo)?u=s.outTransitionTo:angular.isObject(s.outTransitionTo)&&(u=s.outTransitionTo[f.currentState]?s.outTransitionTo[f.currentState]:s.outTransitionTo["default"]?s.outTransitionTo["default"]:""),u&&(t=o(u))(s.$scope,{$callback:function(){p.set(new d),console.log("hide completed")}})),e.stopPropagation()}}function c(){if(f.currentState!==r.current){if($=f.states[r.current]||r.$current,h=$.$template,f.fromState=f.currentState,f.currentState=r.current,u[0].children[0]&&u[0].children[0].remove(),f.states[f.currentState]&&f.states[f.currentState].isolate)g=f.states[f.currentState].$scope,u.append(f.states[f.currentState].element),g.$emit("registerChild",f.states[f.currentState].isolate);else{u.html(h),g=i.$new();var e=t(u.contents());if($.$scope=g,f.states[r.current]=$,$.controller){var n=a($.controller,$);r.$current.controllerAs&&(g[r.$current.controllerAs]=n),angular.element(h).data("$ngControllerController",n)}e(g),f.states[r.current].element=angular.element(u[0].children[0])}g.$emit("$viewContentLoaded")}}var f=n.ensureIsolate(i),l=e["famous/core/View"],d=e["famous/core/RenderNode"],m=(e["famuos/core/Modifier"],new l);f.renderNode=m;var p=new d,v=new d;m.add(p),m.add(v);var g,h,$;f.renderNode=f.renderNode||m,f.states=f.states||{},f.currentState=f.currentState||"root",i.$on("registerChild",s),i.$on("$stateChangeSuccess",c),i.$emit("registerChild",f)}}}}]),angular.module("famous.angular").directive("faScrollView",["$famous","$famousDecorator","$timeout",function(e,n,r){return{template:"<div></div>",restrict:"E",transclude:!0,scope:!0,compile:function(t,a,o){return{pre:function(t,a,o){var i=n.ensureIsolate(t),u=e["famous/views/Scrollview"],s=e["famous/core/ViewSequence"],c=(e["famous/core/Surface"],[]),f=t.$eval(o.faOptions)||{};i.renderNode=new u(f);var l=function(e){r(function(){c.sort(function(e,n){return e.index-n.index});var n={array:function(e){var n=[];return angular.forEach(e,function(e,r){n[r]=e.renderNode}),n}(c)};e&&(n.index=t.$eval(o.faStartIndex));var r=new s(n);i.renderNode.sequenceFrom(r)})};n.sequenceWith(t,function(e){c.push(e),l(!0)},function(e){c=function(n){var r=[];return angular.forEach(n,function(n){n.id!==e&&r.push(n)}),r}(c),l()})},post:function(e,r){var t=n.ensureIsolate(e);o(e,function(e){r.find("div").append(e)}),n.registerChild(e,r,t)}}}}}]),angular.module("famous.angular").directive("faSequentialLayout",["$famous","$famousDecorator",function(e,n){return{template:"<div></div>",restrict:"E",transclude:!0,scope:!0,compile:function(r,t,a){return window.$f=e,{pre:function(r,t,a){var o=n.ensureIsolate(r),i=e["famous/views/SequentialLayout"],u=[],s=r.$eval(a.faOptions)||{};o.renderNode=new i(s);var c=function(){u.sort(function(e,n){return e.index-n.index}),o.renderNode.sequenceFrom(function(e){var n=[];return angular.forEach(e,function(e,r){n[r]=e.renderNode}),n}(u))};n.sequenceWith(r,function(e){u.push(e),c()},function(e){u=function(n){var r=[];return angular.forEach(n,function(n){n.id!==e&&r.push(n)}),r}(u),c()})},post:function(e,r){var t=n.ensureIsolate(e);a(e,function(e){r.find("div").append(e)}),n.registerChild(e,r,t)}}}}}]),angular.module("famous.angular").directive("faSurface",["$famous","$famousDecorator","$interpolate","$controller","$compile",function(e,n){return{scope:!0,transclude:!0,template:'<div class="fa-surface"></div>',restrict:"EA",compile:function(r,t,a){return{pre:function(r,t,a){{var o=n.ensureIsolate(r),i=e["famous/core/Surface"];e["famous/core/Transform"],e["famous/core/EventHandler"]}r.$watch(function(){return o.getProperties()},function(){o.renderNode&&o.renderNode.setProperties(o.getProperties())},!0);var u=function(e){return"fa"+e.charAt(0).toUpperCase()+e.slice(1)};o.getProperties=function(){for(var e=r.$eval(a.faProperties)||{},n=["backgroundColor","margin","padding","color"],t=0;t<n.length;t++){var o=n[t],i=u(o);a[i]&&(e[o]=r.$eval(a[i]))}return e},o.renderNode=new i({size:r.$eval(a.faSize),properties:o.getProperties()}),a.class&&o.renderNode.setClasses(a["class"].split(" "))},post:function(e,r){var t=n.ensureIsolate(e),o=function(){t.renderNode.setContent(r[0].querySelector("div.fa-surface"))};o(),a(e,function(e){angular.element(r[0].querySelectorAll("div.fa-surface")).append(e)}),n.registerChild(e,r,t,function(){})}}}}}]),angular.module("famous.angular").directive("faTap",["$parse","$famousDecorator",function(e,n){return{restrict:"A",compile:function(){return{post:function(r,t,a){var o=n.ensureIsolate(r);if(a.faTap){var i=o.renderNode._eventInput||o.renderNode,u=!1;i.on("touchmove",function(e){return u=!0,e}),i.on("touchend",function(n){if(!u){var t=e(a.faTap);t(r,{$event:n}),r.$$phase||r.$apply()}u=!1})}}}}}}]),angular.module("famous.angular").directive("faTouchend",["$parse","$famousDecorator",function(e,n){return{restrict:"A",scope:!1,compile:function(){return{post:function(r,t,a){var o=n.ensureIsolate(r);if(a.faTouchend){var i=o.renderNode._eventInput||o.renderNode;i.on("touchend",function(n){var t=e(a.faTouchend);t(r,{$event:n}),r.$$phase||r.$apply()})}}}}}}]),angular.module("famous.angular").directive("faTouchmove",["$parse","$famousDecorator",function(e,n){return{restrict:"A",scope:!1,compile:function(){return{post:function(r,t,a){var o=n.ensureIsolate(r);
if(a.faTouchmove){var i=o.renderNode._eventInput||o.renderNode;i.on("touchmove",function(n){var t=e(a.faTouchmove);t(r,{$event:n}),r.$$phase||r.$apply()})}}}}}}]),angular.module("famous.angular").directive("faTouchstart",["$parse","$famousDecorator",function(e,n){return{restrict:"A",scope:!1,compile:function(){return{post:function(r,t,a){var o=n.ensureIsolate(r);if(a.faTouchstart){var i=o.renderNode._eventInput||o.renderNode;i.on("touchstart",function(n){var t=e(a.faTouchstart);t(r,{$event:n}),r.$$phase||r.$apply()})}}}}}}]),angular.module("famous.angular").directive("faView",["$famous","$famousDecorator",function(e,n){return{template:"<div></div>",transclude:!0,scope:!0,restrict:"EA",compile:function(r,t,a){var o=e["famous/core/View"];return{pre:function(e,r,t){var a=n.ensureIsolate(e);a.children=[];a.renderNode=new o({size:e.$eval(t.faSize)||[void 0,void 0]}),n.sequenceWith(e,function(e){a.renderNode.add(e.renderNode),a.children.push(e)})},post:function(e,r){var t=n.ensureIsolate(e);a(e,function(e){r.find("div").append(e)}),n.registerChild(e,r,t)}}}}}]);
/**
 * famous-angular - Integrate Famo.us into AngularJS apps and build Famo.us apps using AngularJS tools
 * @version v0.0.12
 * @link https://github.com/Famous/famous-angular
 * @license 
 */
"use strict";window.name="NG_DEFER_BOOTSTRAP!"+window.name;var requirements=["famous/core/Engine","famous/core/EventEmitter","famous/core/EventHandler","famous/core/Modifier","famous/core/RenderNode","famous/core/Surface","famous/core/Transform","famous/core/View","famous/core/ViewSequence","famous/events/EventArbiter","famous/events/EventFilter","famous/events/EventMapper","famous/inputs/FastClick","famous/inputs/GenericSync","famous/inputs/MouseSync","famous/inputs/PinchSync","famous/inputs/RotateSync","famous/inputs/TouchSync","famous/surfaces/ImageSurface","famous/surfaces/InputSurface","famous/transitions/Easing","famous/transitions/SpringTransition","famous/transitions/Transitionable","famous/transitions/TransitionableTransform","famous/utilities/KeyCodes","famous/utilities/Timer","famous/views/GridLayout","famous/views/RenderController","famous/views/Scroller","famous/views/Scrollview"],ngFameApp=angular.module("famous.angular",[]);require(requirements,function(){var e=arguments;ngFameApp.provider("$famous",function(){var e={};this.registerModule=function(r,n){e[r]=n},e.find=function(e){var r=angular.element(window.document.querySelector(e)),n=function(e){var r=[];return angular.forEach(e,function(e,n){r[n]=angular.element(e).scope()}),r}(r),o=function(e){var r=[];return angular.forEach(e,function(e,n){r[n]=e.isolate[e.$id]}),r}(n);return o},this.$get=function(){return e}}),ngFameApp.config(["$famousProvider",function(r){for(var n=0;n<requirements.length;n++)r.registerModule(requirements[n],e[n])}]),angular.element(document).ready(function(){angular.resumeBootstrap&&angular.resumeBootstrap()}),window.dispatchEvent(new Event("$famousModulesLoaded"))}),angular.module("famous.angular").factory("$famousDecorator",function(){return{addRole:function(){},ensureIsolate:function(e){e.isolate=e.isolate||{},e.isolate[e.$id]=e.isolate[e.$id]||{};var r=e.isolate[e.$id];r.id=e.$id;var n=e.$eval("$index");return n&&"$index"!==n&&!r.index&&(r.index=n),r}}}),angular.module("famous.angular").directive("faAnimation",["$famous","$famousDecorator",function(e,r){return{restrict:"EA",scope:!0,compile:function(){var n=e["famous/core/Transform"],o=e["famous/transitions/Transitionable"],t=e["famous/transitions/Easing"];return{pre:function(e){r.ensureIsolate(e)},post:function(e,a,i){var u=r.ensureIsolate(e);setTimeout(function(){u.timeline=e.$eval(i.timeline),u._trans=new o(0),u.play=function(r){var n={duration:e.$eval(i.duration),curve:e.$eval(i.curve)||"linear"};u._trans.set(1,n,function(){r&&r(),i.loop&&setTimeout(function(){u.replay(r)},0)})},u.reset=function(){u._trans.set(0)},u.replay=function(e){u.reset(),u.play(e)};var r=void 0;i.event&&(r&&r(),r=e.$on(i.event,function(e,r){var n=r&&r.callback?r.callback:void 0;u.replay(n)}));i.id;if(void 0===u.timeline&&(u.timeline=u._trans.get.bind(u._trans),i.autoplay&&u.play()),!u.timeline instanceof Function)throw"timeline must be a reference to a function or duration must be provided";for(var s=a[0].querySelectorAll("animate"),c={},f=0;f<s.length;f++)!function(){var r=s[f];if(r.attributes.targetmodselector){var o=angular.element(a[0].parentNode)[0].querySelectorAll(r.attributes.targetmodselector.value);angular.forEach(o,function(o){var a=angular.element(o).scope(),i=a.isolate[a.$id].modifier,s=a.isolate[a.$id].getTransform,f=r.attributes.curve&&"linear"!==r.attributes.curve.value?t[r.attributes.curve.value]:function(e){return e};if(r.attributes.field){var l=r.attributes.field.value,d=r.attributes.timelinelowerbound?parseFloat(r.attributes.timelinelowerbound.value):0,p=r.attributes.timelineupperbound?parseFloat(r.attributes.timelineupperbound.value):1;if(!r.attributes.startvalue)throw"you must provide a start value for the animation";var v=e.$eval(r.attributes.startvalue.value);if(!r.attributes.endvalue)throw"you must provide an end value for the animation";var m=e.$eval(r.attributes.endValue.value),g=c[a.$id]=c[a.$id]||{},$=g[l]=g[l]||[];$.push({field:l,lowerBound:d,upperBound:p,startValue:v,endValue:m,curve:f}),$.sort(function(e,r){return e.lowerBound-r.lowerBound});for(var h=1;h<$.length;h++)for(var y=$[h].lowerBound,w=0;h>w;w++)if(y<$[w].upperBound)throw"Animate segments have overlapping                                 domains for the same field ("+l+").                                 At any point in the timeline, only one <animate>                                 can affect a given field on the same modifier.";var b=function(){for(var e=u.timeline()||0,r=0,n=$[r],o=0;o<$.length;o++){if(e>=$[o].lowerBound&&e<=$[o].upperBound){n=$[o];break}if(o===$.length-1){n=$[o];break}if(e>=$[o].upperBound&&e<$[o+1].lowerBound){n=$[o];break}}if(e<=n.lowerBound)return n.startValue;if(e>=n.upperBound)return n.endValue;var t=n.upperBound-n.lowerBound,a=(e-n.lowerBound)/t;if(Array.isArray(n.startValue)){for(var i=[],o=0;o<n.startValue.length;o++)i.push(n.startValue[o]+n.curve(a)*(n.endValue[o]-n.startValue[o]));return i}return n.startValue+n.curve(a)*(n.endValue-n.startValue)},S=g.transformComponents=g.transformComponents||[];"opacity"===l?i.opacityFrom(function(){return b()}):"origin"===l?i.originFrom(function(){return b()}):"size"===l?i.sizeFrom(function(){return b()}):(S.push({field:l,fn:b}),i.transformFrom(function(){for(var e={},r=s&&s()?[s()]:[],o=0;o<S.length;o++)!function(){var t=S[o].field;if(!e[t]){var a=S[o].fn();r.push(Array.isArray(a)?n[t].apply(this,a):n[t](a)),e[t]=!0}}();return 1===r.length?r[0]:n.multiply.apply(this,r)}))}})}}()},1)}}}}}]),angular.module("famous.angular").directive("faApp",["$famous","$famousDecorator",function(e,r){return{template:'<div style="display: none;"><div></div></div>',transclude:!0,scope:!0,restrict:"EA",compile:function(n,o,t){return{pre:function(n,o){function t(){i.apply(this,arguments)}{var a=r.ensureIsolate(n),i=e["famous/core/View"],u=e["famous/core/Engine"];e["famous/core/Transform"]}o.append('<div class="famous-angular-container"></div>'),a.context=u.createContext(o[0].querySelector(".famous-angular-container")),t.prototype=Object.create(i.prototype),t.prototype.constructor=t;a.view=new t,a.context.add(a.view),n.$on("$destroy",function(){a.context.update=angular.noop}),n.$on("registerChild",function(e,r){a.view.add(r.renderNode),e.stopPropagation()})},post:function(e,n){var o=r.ensureIsolate(e);t(e,function(e){angular.element(n[0].querySelectorAll("div div")[0]).append(e)}),o.readyToRender=!0}}}}}]),angular.module("famous.angular").directive("faClick",["$parse","$famousDecorator",function(e,r){return{restrict:"A",compile:function(){return{post:function(n,o,t){var a=r.ensureIsolate(n);if(t.faClick){var i=a.renderNode._eventInput||a.renderNode;i.on("click",function(r){var o=e(t.faClick);o(n,{$event:r}),n.$$phase||n.$apply()})}}}}}}]),angular.module("famous.angular").directive("faGridLayout",["$famous","$famousDecorator",function(e,r){return{template:"<div></div>",restrict:"E",transclude:!0,scope:!0,compile:function(n,o,t){return{pre:function(n,o,t){var a=r.ensureIsolate(n),i=e["famous/views/GridLayout"],u=(e["famous/core/ViewSequence"],[]),s=n.$eval(t.faOptions)||{};a.renderNode=new i(s);var c=function(){u.sort(function(e,r){return e.index-r.index}),a.renderNode.sequenceFrom(function(e){var r=[];return angular.forEach(e,function(e,n){r[n]=e.renderNode}),r}(u))};n.$on("registerChild",function(e,r){e.targetScope.$id!=n.$id&&(u.push(r),c(),e.stopPropagation())}),n.$on("unregisterChild",function(e,r){e.targetScope.$id!=n.$id&&(u=function(e){var n=[];return angular.forEach(e,function(e){e.id!==r.id&&n.push(e)}),n}(u),c(),e.stopPropagation())})},post:function(e,n){var o=r.ensureIsolate(e);t(e,function(e){n.find("div").append(e)}),e.$emit("registerChild",o)}}}}}]),angular.module("famous.angular").directive("faImageSurface",["$famous","$famousDecorator",function(e,r){return{scope:!0,template:'<div class="fa-image-surface"></div>',restrict:"EA",compile:function(){return{pre:function(n,o,t){{var a=r.ensureIsolate(n),i=e["famous/surfaces/ImageSurface"];e["famous/core/Transform"],e["famous/core/EventHandler"]}n.$watch(function(){return a.getProperties()},function(){a.renderNode&&a.renderNode.setProperties(a.getProperties())},!0),a.getProperties=function(){return{backgroundColor:n.$eval(t.faBackgroundColor),color:n.$eval(t.faColor)}};a.renderNode=new i({size:n.$eval(t.faSize),"class":n.$eval(t.class),properties:a.getProperties()}),t.class&&a.renderNode.setClasses(t["class"].split(" "))},post:function(e,n,o){var t=r.ensureIsolate(e),a=function(){t.renderNode.setContent(o.faImageUrl)};a(),o.$observe("faImageUrl",a),e.$emit("registerChild",t)}}}}}]),angular.module("famous.angular").directive("faIndex",["$parse","$famousDecorator",function(e,r){return{restrict:"A",scope:!1,priority:16,compile:function(){return{post:function(e,n,o){var t=r.ensureIsolate(e);t.index=e.$eval(o.faIndex),e.$watch(function(){return e.$eval(o.faIndex)},function(){t.index=e.$eval(o.faIndex)})}}}}}]),angular.module("famous.angular").directive("faModifier",["$famous","$famousDecorator","$parse",function(e,r,n){return{template:"<div></div>",transclude:!0,restrict:"EA",priority:2,scope:!0,compile:function(o,t,a){return{post:function(o,t,i){function u(e){return e.replace(p,function(e,r,n,o){return o?n.toUpperCase():n}).replace(v,"Moz$1")}function s(e){return u(e.replace(m,""))}var c=r.ensureIsolate(o),f=e["famous/core/RenderNode"],l=e["famous/core/Modifier"],d=e["famous/core/Transform"],p=/([\:\-\_]+(.))/g,v=/^moz([A-Z])/,m=/^(x[\:\-_]|data[\:\-_])/i,g=["aboutOrigin","perspective","rotate","rotateAxis","rotateX","rotateY","rotateZ","scale","skew","translate"];i.$observe("faTransformOrder",function(){var e=o.$eval(i.faTransformOrder);void 0!==e&&(g=e)});var $={};angular.forEach(g,function(e){var r=s("fa-"+e);i.$observe(r,function(){$[e]=n(i[r])})});var h=angular.noop;i.$observe("faTransform",function(){h=n(i.faTransform)}),c.getTransform=function(){var e=h(o);if(void 0!==e)return e instanceof Function?e():e instanceof Object&&void 0!==e.get?e.get():e;var r=[];return angular.forEach(g,function(e){var n=$[e]?$[e](o):void 0;void 0!==n&&(n instanceof Function&&(n=n()),r.push(n instanceof Array?d[e].apply(this,n):d[e].call(this,n)))}),r.length?1===r.length?r[0]:d.multiply.apply(this,r):void 0};var y=angular.noop;i.$observe("faAlign",function(){y=n(i.faAlign)}),c.getAlign=function(){var e=y(o);return e instanceof Function?e():e instanceof Object&&void 0!==e.get?e.get():e};var w=angular.noop;i.$observe("faOpacity",function(){w=n(i.faOpacity)}),c.getOpacity=function(){var e=w(o);return void 0===e?1:e instanceof Function?e():e instanceof Object&&void 0!==e.get?e.get():e};var b=angular.noop;i.$observe("faSize",function(){b=n(i.faSize)}),c.getSize=function(){var e=b(o);return e instanceof Function?e():e instanceof Object&&void 0!==e.get?e.get():e};var S=angular.noop;i.$observe("faOrigin",function(){S=n(i.faOrigin)}),c.getOrigin=function(){var e=S(o);return e instanceof Function?e():e instanceof Object&&void 0!==e.get?e.get():e},c.modifier=new l({transform:c.getTransform,size:c.getSize,opacity:c.getOpacity,origin:c.getOrigin,align:c.getAlign}),c.renderNode=(new f).add(c.modifier),o.$on("$destroy",function(){c.modifier.setOpacity(0),o.$emit("unregisterChild",{id:o.$id})}),o.$on("registerChild",function(e,r){e.targetScope.$id!==e.currentScope.$id&&(c.renderNode.add(r.renderNode),e.stopPropagation())}),a(o,function(e){t.find("div").append(e)}),o.$emit("registerChild",c)}}}}}]),angular.module("famous.angular").directive("faPipeFrom",["$famous","$famousDecorator",function(e,r){return{restrict:"A",scope:!1,priority:16,compile:function(){var n=e["famous/core/Engine"];return{post:function(e,o,t){var a=r.ensureIsolate(e);e.$watch(function(){return e.$eval(t.faPipeFrom)},function(e,r){var o=a.renderNode||n;if(r instanceof Array)for(var t=0;t<r.length;t++)r[t].unpipe(o);else void 0!==r&&r.unpipe(o);if(e instanceof Array)for(var t=0;t<e.length;t++)e[t].pipe(o);else void 0!==e&&e.pipe(o)})}}}}}]),angular.module("famous.angular").directive("faPipeTo",["$famous","$famousDecorator",function(e,r){return{restrict:"A",scope:!1,priority:16,compile:function(){var n=e["famous/core/Engine"];return{post:function(e,o,t){var a=r.ensureIsolate(e);e.$watch(function(){return e.$eval(t.faPipeTo)},function(e,r){var o=a.renderNode||n;if(r instanceof Array)for(var t=0;t<r.length;t++)o.unpipe(r[t]);else void 0!==r&&o.unpipe(r);if(e instanceof Array)for(var t=0;t<e.length;t++)o.pipe(e[t]);else void 0!==e&&o.pipe(e)})}}}}}]),angular.module("famous.angular").directive("faRenderNode",["$famous","$famousDecorator",function(e,r){return{template:"<div></div>",transclude:!0,scope:!0,restrict:"EA",compile:function(n,o,t){return{pre:function(n,o,t){var a=r.ensureIsolate(n),i=e["famous/core/Engine"];a.children=[],t.$observe("faPipeTo",function(e){var r=n.$eval(e);r&&i.pipe(r)}),a.renderNode=n.$eval(t.faNode),n.$on("$destroy",function(){n.$emit("unregisterChild",{id:n.$id})}),n.$on("registerChild",function(e,r){e.targetScope.$id!=n.$id&&(a.renderNode.add(r.renderNode),a.children.push(r),e.stopPropagation())})},post:function(e,n){var o=r.ensureIsolate(e);t(e,function(e){n.find("div").append(e)}),e.$emit("registerChild",o)}}}}}]),angular.module("famous.angular").directive("faScrollView",["$famous","$famousDecorator","$timeout",function(e,r,n){return{template:"<div></div>",restrict:"E",transclude:!0,scope:!0,compile:function(o,t,a){return{pre:function(o,t,a){var i=r.ensureIsolate(o),u=e["famous/views/Scrollview"],s=e["famous/core/ViewSequence"],c=(e["famous/core/Surface"],[]),f=o.$eval(a.faOptions)||{};i.renderNode=new u(f);var l=function(e){n(function(){c.sort(function(e,r){return e.index-r.index});var r={array:function(e){var r=[];return angular.forEach(e,function(e,n){r[n]=e.renderNode}),r}(c)};e&&(r.index=o.$eval(a.faStartIndex));var n=new s(r);i.renderNode.sequenceFrom(n)})};o.$on("registerChild",function(e,r){e.targetScope.$id!=o.$id&&(c.push(r),l(!0),e.stopPropagation())}),o.$on("unregisterChild",function(e,r){e.targetScope.$id!=o.$id&&(c=function(e){var n=[];return angular.forEach(e,function(e){e.id!==r.id&&n.push(e)}),n}(c),l(),e.stopPropagation())})},post:function(e,n){var o=r.ensureIsolate(e);a(e,function(e){n.find("div").append(e)}),e.$emit("registerChild",o)}}}}}]),angular.module("famous.angular").directive("faSurface",["$famous","$famousDecorator","$interpolate","$controller","$compile",function(e,r){return{scope:!0,transclude:!0,template:'<div class="fa-surface"></div>',restrict:"EA",compile:function(n,o,t){return{pre:function(n,o,t){{var a=r.ensureIsolate(n),i=e["famous/core/Surface"];e["famous/core/Transform"],e["famous/core/EventHandler"]}n.$watch(function(){return a.getProperties()},function(){a.renderNode&&a.renderNode.setProperties(a.getProperties())},!0),a.getProperties=function(){return{backgroundColor:n.$eval(t.faBackgroundColor),color:n.$eval(t.faColor)}},a.renderNode=new i({size:n.$eval(t.faSize),"class":n.$eval(t.class),properties:a.getProperties()}),t.class&&a.renderNode.setClasses(t["class"].split(" "))},post:function(e,n){var o=r.ensureIsolate(e),a=function(){o.renderNode.setContent(n[0].querySelector("div.fa-surface"))};a(),t(e,function(e){angular.element(n[0].querySelectorAll("div.fa-surface")).append(e)}),e.$emit("registerChild",o)}}}}}]),angular.module("famous.angular").directive("faTap",["$parse","$famousDecorator",function(e,r){return{restrict:"A",compile:function(){return{post:function(n,o,t){var a=r.ensureIsolate(n);if(t.faTap){var i=a.renderNode._eventInput||a.renderNode,u=!1;i.on("touchmove",function(e){return u=!0,e}),i.on("touchend",function(r){if(!u){var o=e(t.faTap);o(n,{$event:r}),n.$$phase||n.$apply()}u=!1})}}}}}}]),angular.module("famous.angular").directive("faTouchend",["$parse","$famousDecorator",function(e,r){return{restrict:"A",scope:!1,compile:function(){return{post:function(n,o,t){var a=r.ensureIsolate(n);if(t.faTouchEnd){var i=a.renderNode._eventInput||a.renderNode;i.on("touchend",function(r){var o=e(t.faTouchMove);o(n,{$event:r}),n.$$phase||n.$apply()})}}}}}}]),angular.module("famous.angular").directive("faTouchmove",["$parse","$famousDecorator",function(e,r){return{restrict:"A",scope:!1,compile:function(){return{post:function(n,o,t){var a=r.ensureIsolate(n);if(t.faTouchMove){var i=a.renderNode._eventInput||a.renderNode;i.on("touchmove",function(r){var o=e(t.faTouchMove);o(n,{$event:r}),n.$$phase||n.$apply()})}}}}}}]),angular.module("famous.angular").directive("faTouchstart",["$parse","$famousDecorator",function(e,r){return{restrict:"A",scope:!1,compile:function(){return{post:function(n,o,t){var a=r.ensureIsolate(n);if(t.faTouchStart){var i=a.renderNode._eventInput||a.renderNode;i.on("touchstart",function(r){var o=e(t.faTouchStart);o(n,{$event:r}),n.$$phase||n.$apply()})}}}}}}]),angular.module("famous.angular").directive("faView",["$famous","$famousDecorator",function(e,r){return{template:"<div></div>",transclude:!0,scope:!0,restrict:"EA",compile:function(n,o,t){var a=e["famous/core/View"];return{pre:function(e,n,o){var t=r.ensureIsolate(e);t.children=[];t.renderNode=new a({size:e.$eval(o.faSize)||[void 0,void 0]}),e.$on("$destroy",function(){e.$emit("unregisterChild",{id:e.$id})}),e.$on("registerChild",function(r,n){r.targetScope.$id!=e.$id&&(t.renderNode.add(n.renderNode),t.children.push(n),r.stopPropagation())})},post:function(e,n){var o=r.ensureIsolate(e);t(e,function(e){n.find("div").append(e)}),e.$emit("registerChild",o)}}}}}]);